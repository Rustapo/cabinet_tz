# Краткое описание сути проекта:

*Суть проекта:* Мониторинг процесса работы (дорожная карта).

**Общие условия:**
- HTML, CSS, PHP, MYSQL (JS – только на сайте и в админпанели, для обычных пользователей – JS не использовать или использовать по минимуму, чтобы функционал оставался работоспособным).
- Оптимизированный код для быстрой загрузки, валидный код по W3C и нет ошибок в коде.
- Чистый и безопасный код, без лишних ссылок для внешних ресурсов, дыр и уязвимостей.
- Легковесный и компактный (не более 10-20 мб).
- Все ссылки все должны быть относительными - для быстрого трансфера на хостинги.
- Возможность расширять функционал (модульность).

*Шрифты и цвета*
- Шрифты: Verdana, Geneva, Sans-serif;
- Размер шрифтов: 1.5 em
- Цвета: #3399FF, #333, #666666, красный
---
**Термины и понятия:**

Мониторинг (контроль) – система учета выполненных, выполняемых и запланированных
работ.
- Updates (текущий контроль) – информация о состоянии выполненной, выполняемой и запланированной работе на определённый момент времени (отчет на определенный день).
На сайте это страница со списком (блоки) процессов (задач) (см. рисунок). На каждом блоке кнопки редактирование, архивация и удаление. Архивация (OLD) - -нужна для скрытия выполненных процессов из списка, чтобы не мешали.
Архив (OLD) – это старые выполненное процессы, потребуется для просмотра и для возобновления если потребуется. Также имеется фильтр для фильтрации по пользователю и по метке процесса.
- Timeline (общий контроль) – информация о состоянии выполненных, выполняемых и запланированных работ на всем промежутке времени (ход работы - полный отчет от начала до конца).
На сайте это страница с генерированной таблицей содержащая данные в виде даты (см.таблицу).
- User panel / Admin panel (сам персональный кабинет) - индивидуальная страница пользователя, содержащая блок ссылок на страницы сайта доступные для текущего пользователя.
- Users (обычные пользователи) - все зарегистрированные пользователи, которые не имеют доступа к данным других пользователей и не знают о существовании других пользователей, работа с ними идет индивидуально. Система изолированных пользователей со своим текущим и общим контролем статуса.
- Группы / Права пользователей - назначение прав пользователям для работы (просмотр и изменение) в разделах сайта.
Существует следующие группы (админ, модер, пользователь) и Права (доступ к просмотру статической страницы).

**1) Пользователи:**
*Admin (Администратор) – все возможности включены;
Функции администратора:- создает/редактирует/удаляет пользователя (Логин, Имя, E-mail для уведомлений,
назначает группы и права, активный/не активный) на странице с пользователями должны
быть видны дата последнего входа;
- назначает группу модератора и указывает с какими пользователями он может работать;
- добавляет права любому пользователю (просмотр закрытых статических страниц);
- создает/редактирует/удаляет процесс (также этапы и стадии);
- пишет в чат пользователю (модератор также участвует, если назначен);
- получает уведомления на E-mail и визуально на блоке – от Пользователя и Модератора.
- создает/редактирует/удаляет статические страницы (для одного/всех пользователей).
- импортирует в БД таблицу xls / xlsx.
*Moderator (Модератор) – это обычный пользователь, который может смотреть/изменять
данные в Updates определенных пользователей (разрешенные администратором).
При выборе Moderator должна появиться (или будет неактивной до выбора) комбо
выбора пользователей, которые разрешены для просмотра/изменений данных для
текущего пользователя.
Если модератор добавит/изменит процесс или напишет в чат, то Админ также должен
уведомляться.
Функции модератора:
- создает/редактирует процесс (этапы и стадии) для назначенного пользователя.
- пишет в чат назначенному пользователю (админ видит).
- получает уведомления на E-mail и визуально на блоке – от Админа и Пользователя.
*User (Пользователь) – это обычный пользователь просмотр только своих данных –
updates, timeline и доступных страниц.
Функции пользователя:
- входит в кабинет через логин и пароль, который дал админ;
- может переходить в Updates, Timline и доступные страницы;
- видит свой список процессов, созданных админом/модератором;
- видит древо процесса, созданных админом/модератором;
- пишет в чат админу/модератору
- получает уведомления на E-mail и визуально на блоке – от Админа и Модератора.


**2. Мониторинг процессов:**
Updates: Отображается «Древо процесса» (Этапы и Стадии) и «Чат с пользователем».
При создании/редактировании процесса Админом/Модератором, написании в Чат –
приходит уведомление на почту Пользователя.
a) Администратор заполняет форму содержащая для заполнения следующие поля:
- Дата, время (ставится автоматически с указанием временного пояса +5,0);
- Комбо поле с пользователями (список пользователей зарегистрированной в системе);
- Название процесса, Описание процесса и т.д. как указано на рисунке, названия
этапов/стадий смотрите таблицу ниже;
- Текст (собственно содержание);
- Метки которые меняют цвет блока процесса и этапа:
«Normal» (стоит по умолчанию), «Confirmation»,«Urgent», «Approval» - выделяют <div>-
блок разными цветами («Normal» – цвет “Silver/Gray”;«Confirmation» – цвет “Pale
yellow/Yellow”; «Urgent» – цвет “Pale red/Red”; «Approval» – цвет “Pale green/Green”;
- Кнопка прикрепления файлов в форме для комментариев;
- Кнопка отправки комментариев.Пример: Создания процесса "Регистрация телефона":
- Выбор пользователя в комбо-боксе: Vasya_Pupkin
- Метка процесса: "NORMAL" (цвет серый). При изменении метки - меняется цвет блока
Этапа в древе процесса и блок самого Процесса в Updates. Если цвет был изменен в
нескольких этапах, то приоритет будет последнего измененного Этапа.
- Название процесса: Регистрация телефона
- Описание процесса: Телефон Iphone
- Тип процесса процесса: REGISTRATION
- Дата добавления (текущая по умолчанию или выбор даты): 13-06-2018
- Название этапа: Pre-submission
- Стадия этапа: Request to import
- Описание: "Была создана заявка на импорт телефона и ожидается копии накладной"
или -Пустоb) Если выбрать в блоке тип срочного сообщения "Для этого пользователя" или "Для
всех", то
- При выборе "Для этого пользователя" - все поля становятся неактивными, кроме
"Выбор пользователя", "Метка процесса" "Название процесса".
- При выборе "Для всех" - все поля становятся неактивными, кроме "Метка процесса"
"Название процесса".
Созданные срочные сообщения отображаются
- у админа в списке процессов пользователя и доступны для редактирования/удаления.
- у пользователя отображаются/собираются в верхнем блоке "в шапке"
c) Пользователь кликает в персональном кабинете на ссылку «Updates» попадает на
страницу с информацией предназначенная только для его просмотра.
d) При создании процесса создается этап и стадия одновременно. Процесс не может быть
без этапа. Этап не может быть без стадии.
Порядок и количество этапов и стадий не фиксирован.
Название этапов и стадий указан в таблице.
e) При редактировании процесса (этапа, стадии) - открывается форма с подставленными
данными из БД. При изменении поля, соответственно вносится изменения.


_Timeline:_ Суммарное отображение данных всех процессов по датам.
**a)** для Админа – также имеется комбо с выбором пользователя, для фильтрации по пользователю;
   для Модератора – комбо с выбором назначенного пользователя, для фильтрации по пользователю,
   для Пользователя – комбо нет, отображается все свои процессы, включая архивные.
**b)** В Timeline генерируется готовая таблица по данным Updates.
  Если был добавлен/изменен процесс (добавлен/изменен этап или стадия) - то добавляется соответствующая колонка в таблице.
  Данные автоматические переносятся с «Updates» в «Timeline». Столбцы с названиями Этапа/Стадии будут появлятся по мере создания этапа/стадии и отображать только даты.Названия этапов/стадий смотрите таблицу ниже.
---
**3. Статические страницы:**
Простейший WYSIWYG или MARKDOWN редактор для создания/редактирования/удаления статической страницы.
Созданные страницы могут быть доступны для всех или для конкретного пользователя.
В кабинете эти страницы нужны для ссылок скачивания файлов, описания проекта,
контакты и любая страница с заметками.
---
**4. Парсинг xls файлов в БД.**
   Модифицированный поиск (searchimport.php и searchmoh.php) страница поиска по БД по
данным полученные после парсинга xls файла в БД. Скрипт готовый, нужно прикрутить
к кабинету.
---
**5. Дополнительный функционал.**
   В дальнейшей поддержке потребуется добавление новых функций (добавление матрицы
Эйзенхауэра, Канбан доски, общей статистики, форма для экспорта данных в pdf,
календарь событий, мультиязычность, смена темы оформления и другие функции).
